/*
DROP TABLE  YDPB_EVAL_ROOM;
DROP TABLE  YDPB_EVAL_ROOM_CAMERA;
DROP TABLE  YDPB_EVAL_ROOM_SEAT;
DROP TABLE  YDPB_EVAL_APPLY;
DROP TABLE  YDPB_EVAL_APPLY_DETAIL;
DROP TABLE  YDPB_EVAL_APPLY_Record;
DROP TABLE  YDPB_FILE;
DROP TABLE  YDPB_EVAL_ROOM_SEAT_RECORD;
DROP TABLE  TRADE_CENTER;
DROP TABLE  YDPB_EVAL_EXPERT_RECORD;
DROP TABLE  YDPB_NOTIFY_CONFIG;

DROP SEQUENCE  SEQ_YDPB_EVAL_ROOM;
DROP SEQUENCE  SEQ_YDPB_EVAL_ROOM_CAMERA;
DROP SEQUENCE  SEQ_YDPB_EVAL_ROOM_SEAT;
DROP SEQUENCE  SEQ_YDPB_EVAL_APPLY;
DROP SEQUENCE  SEQ_YDPB_EVAL_APPLY_DETAIL;
DROP SEQUENCE  SEQ_YDPB_EVAL_APPLY_Record;
DROP SEQUENCE  SEQ_YDPB_FILE;
DROP SEQUENCE  SEQ_YDPB_EVAL_ROOM_SEAT_RECORD;
DROP SEQUENCE  SEQ_TRADE_CENTER;
DROP SEQUENCE  SEQ_YDPB_EVAL_EXPERT_RECORD;
*/


CREATE TABLE "YDPB_EVAL_ROOM" (
  "ID" NUMBER NOT NULL,
  "AREA_CODE" VARCHAR2(6) NOT NULL,
  "CENTER_NAME" VARCHAR2(255) NOT NULL,
  "EVAL_ROOM_NAME" VARCHAR2(255) NOT NULL,
  "EVAL_ROOM_ADDR" VARCHAR2(1000) NOT NULL,
  "EVAL_METHOD" NUMBER(1,0) NOT NULL,
  "SEATS_COUNT" NUMBER(2,0) NOT NULL,
  "AVAILABLE_SEATS_COUNT" NUMBER(2,0) NOT NULL,
  "CAMERA_COUNT" NUMBER(2,0) NOT NULL,
  "ENABLED" NUMBER(1,0) DEFAULT 0 NOT NULL,
  "STATE" NUMBER(1,0) DEFAULT 1 NOT NULL,
  "CREATOR_ID" NUMBER DEFAULT 0 NOT NULL,
  "CREATOR" VARCHAR2(255),
  "CREATE_TIME" DATE DEFAULT SYSDATE NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0 NOT NULL,
  "REMARK" VARCHAR2(4000),
  PRIMARY KEY ("ID")
)
;

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."ID" IS 'ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."AREA_CODE" IS '交易中心编号';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."CENTER_NAME" IS '交易中心名称';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."EVAL_ROOM_NAME" IS '评标室名称';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."EVAL_ROOM_ADDR" IS '评标室地址';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."EVAL_METHOD" IS '评标方式  0:混合评标 1:单一项目评标';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."SEATS_COUNT" IS '评标席位数量';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."AVAILABLE_SEATS_COUNT" IS '可用席位数量';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."CAMERA_COUNT" IS '监控设备数量';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."ENABLED" IS '是否可用 0：停用  1：启用';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."STATE" IS '评标室状态 0:故障 1：正常';


COMMENT ON COLUMN "YDPB_EVAL_ROOM"."CREATOR_ID" IS '添加人ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."CREATOR" IS '创建人名称';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."CREATE_TIME" IS '数据创建时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."DATA_TIMESTAMP" IS '数据最后修改时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."IS_DELETE" IS '是否删除 0:正常 1：删除';

COMMENT ON COLUMN "YDPB_EVAL_ROOM"."REMARK" IS '备注信息';

COMMENT ON TABLE "YDPB_EVAL_ROOM" IS '评标场地信息表';


create sequence SEQ_YDPB_EVAL_ROOM
minvalue 1
start with 1
increment by 1;


CREATE TABLE "YDPB_EVAL_ROOM_CAMERA" (
  "ID" NUMBER NOT NULL,
  "CAMERA_NAME" VARCHAR2(255 BYTE) NOT NULL,
  "URL" VARCHAR2(255 BYTE) NOT NULL,
  "EVAL_ROOM_ID" NUMBER NOT NULL,
  "STATE" NUMBER(1,0) DEFAULT 1   NOT NULL,
  "CREATOR_ID" NUMBER DEFAULT 0   NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE   NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE   NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0   NOT NULL,
  "REMARK" VARCHAR2(4000 BYTE),
   PRIMARY KEY ("ID")
);

COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."ID" IS 'ID';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."CAMERA_NAME" IS '设备名称';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."URL" IS '设备观看地址';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."EVAL_ROOM_ID" IS '评标室ID';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."STATE" IS '设备状态 0 :故障  1:正常';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."CREATOR_ID" IS '添加人ID';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."CREATOR" IS '创建人名称';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."CREATE_TIME" IS '数据创建时间';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."DATA_TIMESTAMP" IS '数据最后修改时间';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."IS_DELETE" IS '是否删除 0:正常 1：删除';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_CAMERA"."REMARK" IS '备注信息';

create sequence SEQ_YDPB_EVAL_ROOM_CAMERA
minvalue 1
start with 1
increment by 1;


CREATE TABLE "YDPB_EVAL_ROOM_SEAT" (
  "ID" NUMBER NOT NULL,
  "SEAT_NUMBER" VARCHAR2(2) NOT NULL,
  "STATE" NUMBER(1,0) DEFAULT 0,
  "PC_STATE" NUMBER(1,0) DEFAULT 0,
  "NETWORK_STATE" NUMBER(1,0) DEFAULT 0,
  "MIC_STATE" NUMBER(1,0) DEFAULT 0,
  "SPEEKER_STATE" NUMBER(1,0) DEFAULT 0,
  "REMARK" VARCHAR2(4000 BYTE),
  "FID" NUMBER,
  "CAMERA_STATE" NUMBER(1,0) DEFAULT 0,
  "CREATOR_ID" NUMBER DEFAULT 0  NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE  NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE  NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0  NOT NULL,
  PRIMARY KEY ("ID")
);

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."ID" IS 'ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."SEAT_NUMBER" IS '席位编号';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."PC_STATE" IS '评标电脑状态 0:故障 1正常';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."NETWORK_STATE" IS '网络状态';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."MIC_STATE" IS '麦克风状态';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."SPEEKER_STATE" IS '扬声器状态';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."CAMERA_STATE" IS '摄像头状态';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."CREATOR_ID" IS '添加人ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."CREATOR" IS '创建人名称';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."CREATE_TIME" IS '数据创建时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."DATA_TIMESTAMP" IS '数据最后修改时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."IS_DELETE" IS '是否删除 0:正常 1：删除';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."REMARK" IS '备注信息';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."FID" IS '评标室ID';
COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT"."STATE" IS '评标席位状态 0:故障 1:正常';

create sequence SEQ_YDPB_EVAL_ROOM_SEAT
minvalue 1
start with 1
increment by 1;


CREATE TABLE YDPB_EVAL_APPLY (
  "ID" NUMBER,
  "APPLY_TYPE" NUMBER NOT NULL,
  "SERIES_NUMBER" NVARCHAR2(50) NOT NULL,
  "TENDER_PROJECT" VARCHAR2(2000) NOT NULL,
  "TENDER_PROJECT_CODE" VARCHAR2(50) NOT NULL,
  "TENDER_PROJECT_ID" NUMBER DEFAULT 0,
  tender_agency_name nvarchar2(200) default '',
  tender_agency_code nvarchar2(18) default '',
  tender_agent_contract nvarchar2(100) default '',
  tender_agent_phone nvarchar2(20) default '',
  "BID_EVAL_START_TIME" DATE,
  "BID_EVAL_END_TIME" DATE,
  "REMARK" VARCHAR2(4000),
  "STATUS" NUMBER(2,0),
  "FLAG" number default 0 not null,
  "EVAL_STATUS" NUMBER DEFAULT 0 NOT NULL,
   "FID" NUMBER,
  "F_SERIES_NUMBER" NVARCHAR2(50),
  "CREATOR_ID" NUMBER DEFAULT 0  NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE  NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE  NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0  NOT NULL,
  "EXPERT_COUNT" NUMBER(2,0) DEFAULT 0,
  "IS_EVAL_EXPERT" NUMBER DEFAULT 0 NOT NULL,
  PRIMARY KEY("ID")
)
;
COMMENT ON COLUMN "YDPB_EVAL_APPLY"."ID" IS 'ID'; 

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."APPLY_TYPE" IS '申请单类型 0:场地申请  1:场地变更 2:取消场地'; 

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."SERIES_NUMBER" IS '申请单编号';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."TENDER_PROJECT" IS '招标项目名称';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."TENDER_PROJECT_CODE" IS '招标项目编号';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."TENDER_PROJECT_ID" IS '招标项目ID';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."BID_EVAL_START_TIME" IS '预计评标开始时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."BID_EVAL_END_TIME" IS '预计评标结束时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."REMARK" IS '备注';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."STATUS" IS '状态';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."EVAL_STATUS" IS '评标状态 0:待评标 1:评标中 2:评标结束 3：归档';

comment on column YDPB_EVAL_APPLY.FLAG is '申请单状态 0:正常 1：已变更 2：已取消';


COMMENT ON COLUMN  "YDPB_EVAL_APPLY"."FID" IS '原申请单ID';

COMMENT ON COLUMN  "YDPB_EVAL_APPLY"."F_SERIES_NUMBER" IS '原申请单编号';


COMMENT ON COLUMN "YDPB_EVAL_APPLY"."CREATOR_ID" IS '添加人ID';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."CREATOR" IS '创建人名称';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."CREATE_TIME" IS '数据创建时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."DATA_TIMESTAMP" IS '数据最后修改时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."IS_DELETE" IS '是否删除 0:正常 1：删除';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."EXPERT_COUNT" IS '评标专家数量';

COMMENT ON COLUMN "YDPB_EVAL_APPLY"."IS_EVAL_EXPERT" IS '是否都已分配专家席位 0:待分配 1：已分配';

COMMENT ON TABLE "YDPB_EVAL_APPLY" IS '评标场地申请';

comment on column YDPB_EVAL_APPLY.tender_agency_name
  is '招标代理机构名称';
comment on column YDPB_EVAL_APPLY.tender_agency_code
  is '招标代理机构统一社会信用代码';
comment on column YDPB_EVAL_APPLY.tender_agent_contract
  is '招标代理机构联系人';
comment on column YDPB_EVAL_APPLY.tender_agent_phone
  is '招标代理机构联系方式';




create sequence SEQ_YDPB_EVAL_APPLY
minvalue 1
start with 1
increment by 1;


CREATE TABLE YDPB_EVAL_APPLY_DETAIL (
  "ID" NUMBER NOT NULL,
  "AREA_CODE" VARCHAR2(6) NOT NULL,
  "CENTER_NAME" VARCHAR2(255) NOT NULL,
  "EXPERT_COUNT" NUMBER DEFAULT 0 NOT NULL,
  "IS_MAIN" NUMBER(1,0) DEFAULT 0 NOT NULL,
  "STATUS" NUMBER DEFAULT 0 NOT NULL,
  "REMARK" VARCHAR2(4000),
  "APPLY_ID" NUMBER NOT NULL,
  "FID" number default 0,
  "IS_EVAL_EXPERT" NUMBER(1) DEFAULT 0 NOT NULL,
  "CREATOR_ID" NUMBER DEFAULT 0  NOT NULL,
  "CREATOR" VARCHAR2(255),
  "CREATE_TIME" DATE DEFAULT SYSDATE  NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE  NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0  NOT NULL,
  PRIMARY KEY ("ID")
)
;

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."ID" IS 'ID';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."AREA_CODE" IS '交易中心编码';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."CENTER_NAME" IS '交易中心名称';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."EXPERT_COUNT" IS '评标专家数量';
COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."IS_MAIN" IS '是否主会场 0:否 1:是';
COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."STATUS" IS '审批状态';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."REMARK" IS '备注';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."APPLY_ID" IS '关联申请单ID';

comment on column "YDPB_EVAL_APPLY_DETAIL"."FID" is '取消/变更时，原申请详情ID';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."CREATOR_ID" IS '添加人ID';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."CREATOR" IS '创建人名称';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."CREATE_TIME" IS '数据创建时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."DATA_TIMESTAMP" IS '数据最后修改时间';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."IS_DELETE" IS '是否删除 0:正常 1：删除';

COMMENT ON COLUMN "YDPB_EVAL_APPLY_DETAIL"."IS_EVAL_EXPERT" IS '是否都已分配专家席位 0:待分配 1：已分配';

COMMENT ON TABLE "YDPB_EVAL_APPLY_DETAIL" IS '评标场地申请详情';

create sequence SEQ_YDPB_EVAL_APPLY_DETAIL
minvalue 1
start with 1
increment by 1;




CREATE TABLE YDPB_EVAL_APPLY_Record (
  "ID" NUMBER NOT NULL,
  "IS_MAIN_AUDIT" NUMBER DEFAULT 0 NOT NULL,
  "AREA_CODE" VARCHAR2(6),
  "CENTER_NAME" VARCHAR2(255),
  "APPLY_ID" NUMBER NOT NULL,
  "APPLY_DETAIL_ID" NUMBER NOT NULL,
  "APPLY_STEP" VARCHAR2(255),
  "STATUS" NUMBER(1,0) DEFAULT 0,
  "AUDIT_USER_ID" NUMBER DEFAULT 0 NOT NULL,
  "AUDIT_USER" VARCHAR2(255) DEFAULT '',
  "AUDIT_TIME" DATE,
  "CREATOR_ID" NUMBER DEFAULT 0   NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE   NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE   NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0   NOT NULL,
  "REMARK" VARCHAR2(255),
  PRIMARY KEY ("ID")
)
;

COMMENT ON TABLE YDPB_EVAL_APPLY_Record IS '审批记录';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.ID IS 'ID';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.IS_MAIN_AUDIT IS '主会场是否审核通过  0:否 1:是'; 

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.AREA_CODE IS '交易中心编码';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.CENTER_NAME IS '交易中心名称';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.APPLY_ID IS '关联申请单ID';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.APPLY_DETAIL_ID IS '关联申请单详情ID';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.APPLY_STEP IS '申请步骤名称';


COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.STATUS IS '审批状态 0 待审 1：审核通过 2 审核退回 3:已办理（代理提交申请）';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.AUDIT_USER_ID IS '审核人/处理人ID';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.AUDIT_USER IS '审核人/处理人';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.AUDIT_TIME IS '审核时间';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.CREATOR_ID IS '添加人ID';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.CREATOR IS '创建人名称';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.CREATE_TIME IS '数据创建时间';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.DATA_TIMESTAMP IS '数据最后修改时间';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.IS_DELETE IS '是否删除 0:正常 1：删除';

COMMENT ON COLUMN YDPB_EVAL_APPLY_Record.REMARK IS '审批意见/备注';



create sequence SEQ_YDPB_EVAL_APPLY_Record
minvalue 1
start with 1
increment by 1;


CREATE TABLE "YDPB_FILE" (
  "FILE_ID" NUMBER,
  "FID" NUMBER DEFAULT 0 NOT NULL,
  "F_TABLE" VARCHAR2(255),
  "ID" VARCHAR2(255),
  "CATEGORY" VARCHAR2(255),
  "NAME" VARCHAR2(255),
  "URL" VARCHAR2(255),
  "MD5" VARCHAR2(32),
  "CREATOR_ID" NUMBER DEFAULT 0    NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE    NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE    NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0    NOT NULL,
  PRIMARY KEY ("FILE_ID")
)
;

COMMENT ON COLUMN "YDPB_FILE"."ID" IS '文件服务器返回ID';

COMMENT ON COLUMN "YDPB_FILE"."FID" IS '关联外键ID';

COMMENT ON COLUMN "YDPB_FILE"."F_TABLE" IS '关联表名';

COMMENT ON COLUMN "YDPB_FILE"."CATEGORY" IS '附件类别';

COMMENT ON COLUMN "YDPB_FILE"."FILE_ID" IS '主键';

COMMENT ON COLUMN "YDPB_FILE"."NAME" IS '文件名';

COMMENT ON COLUMN "YDPB_FILE"."URL" IS '文件服务器对应Url';

COMMENT ON COLUMN "YDPB_FILE"."MD5" IS '文件MD5值';

COMMENT ON COLUMN "YDPB_FILE"."CREATOR_ID" IS '添加人ID';

COMMENT ON COLUMN "YDPB_FILE"."CREATOR" IS '创建人名称';

COMMENT ON COLUMN "YDPB_FILE"."CREATE_TIME" IS '数据创建时间';

COMMENT ON COLUMN "YDPB_FILE"."DATA_TIMESTAMP" IS '数据最后修改时间';

COMMENT ON COLUMN "YDPB_FILE"."IS_DELETE" IS '是否删除 0:正常 1：删除';

create sequence SEQ_YDPB_FILE
minvalue 1
start with 1
increment by 1;


CREATE TABLE "YDPB_EVAL_ROOM_SEAT_RECORD" (
  "ID" NUMBER NOT NULL,
  "AREA_CODE" VARCHAR2(6) NOT NULL,
  "SEAT_NUMBER" VARCHAR2(2) NOT NULL,
  "EVAL_APPLY_DETAIL_ID" NUMBER NOT NULL,
  "APPLY_ID" NUMBER NOT NULL,
  "EVAL_ROOM_NAME" VARCHAR2(255) NOT NULL,
  "EVAL_ROOM_ID" NUMBER NOT NULL,
  "START_TIME" DATE DEFAULT SYSDATE NOT NULL,
  "END_TIME" DATE DEFAULT SYSDATE NOT NULL,
  "STATE" NUMBER DEFAULT 1 NOT NULL,
  "CREATOR_ID" NUMBER DEFAULT 0   NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE   NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE   NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0   NOT NULL,
  PRIMARY KEY ("ID")
);

COMMENT ON TABLE "YDPB_EVAL_ROOM_SEAT_RECORD" IS '评标席位分配详情';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."ID" IS 'ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."AREA_CODE" IS '交易中心编码';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."EVAL_APPLY_DETAIL_ID" IS '评标申请详情ID';


COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."APPLY_ID" IS '申请单ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."SEAT_NUMBER" IS '席位编号';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."EVAL_ROOM_NAME" IS '评标室名称';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."EVAL_ROOM_ID" IS '评标室ID';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."START_TIME" IS '预计评标开始时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."END_TIME" IS '预计评标结束时间';

COMMENT ON COLUMN "YDPB_EVAL_ROOM_SEAT_RECORD"."STATE" IS '1:已分配 0:已取消或变更';

COMMENT ON COLUMN YDPB_EVAL_ROOM_SEAT_RECORD.CREATOR_ID IS '添加人ID';

COMMENT ON COLUMN YDPB_EVAL_ROOM_SEAT_RECORD.CREATOR IS '创建人名称';

COMMENT ON COLUMN YDPB_EVAL_ROOM_SEAT_RECORD.CREATE_TIME IS '数据创建时间';

COMMENT ON COLUMN YDPB_EVAL_ROOM_SEAT_RECORD.DATA_TIMESTAMP IS '数据最后修改时间';

COMMENT ON COLUMN YDPB_EVAL_ROOM_SEAT_RECORD.IS_DELETE IS '是否删除 0:正常 1：删除';


create sequence SEQ_YDPB_EVAL_ROOM_SEAT_RECORD
minvalue 1
start with 1
increment by 1;


CREATE OR REPLACE VIEW V_YDPB_APPLY_ALL AS
select a.id,a.series_number,a.apply_type,r.apply_step,a.status as State, r.status,a.bid_eval_start_time,a.bid_eval_end_time,r.center_name,a.flag,a.creator_id,a.create_time,a.expert_count from YDPB_EVAL_APPLY a
inner join (SELECT ID,apply_step,status,CENTER_NAME,apply_id FROM (
SELECT ROW_NUMBER() OVER(PARTITION BY apply_id ORDER BY STATUS,ID DESC) rn,t.*
FROM YDPB_EVAL_APPLY_RECORD t where t.is_delete=0 and t.is_main_audit=1 and t.status !=3) WHERE rn = 1) r on a.id = r.apply_id and a.is_delete =0
order by r.id desc;




CREATE TABLE "TRADE_CENTER" (
  "ID" NUMBER NOT NULL,
  "AREA_CODE" VARCHAR2(6) NOT NULL,
  "UNIT_NAME" VARCHAR2(255) NOT NULL,
  "SYSTEM_NO" VARCHAR2(50),
  "PRIVATE_KEY" VARCHAR2(50),
  "ADDRESS" VARCHAR2(4000),
  "CONTACT_NAME" VARCHAR2(255),
  "CONTACT_PHONE" VARCHAR2(50),
  "CONTACT_TEL" VARCHAR2(50),
  "CREATOR_ID" NUMBER DEFAULT 0   NOT NULL,
  "CREATOR" VARCHAR2(255 BYTE),
  "CREATE_TIME" DATE DEFAULT SYSDATE   NOT NULL,
  "DATA_TIMESTAMP" DATE DEFAULT SYSDATE   NOT NULL,
  "IS_DELETE" NUMBER(1,0) DEFAULT 0   NOT NULL,
  "NOTIFY_URL" varchar2(255),
  PRIMARY KEY ("ID")
);

COMMENT ON TABLE "TRADE_CENTER" IS '交易中心列表';

COMMENT ON COLUMN TRADE_CENTER.ID IS 'ID';

COMMENT ON COLUMN TRADE_CENTER.SYSTEM_NO IS '交易中心编码';

COMMENT ON COLUMN TRADE_CENTER.PRIVATE_KEY IS '私钥';

COMMENT ON COLUMN TRADE_CENTER.UNIT_NAME IS '交易中心名称';

COMMENT ON COLUMN TRADE_CENTER.NOTIFY_URL IS '审批结果通知URL';

COMMENT ON COLUMN TRADE_CENTER.ADDRESS IS '交易中心地址';

COMMENT ON COLUMN TRADE_CENTER.CONTACT_NAME IS '联系人';

COMMENT ON COLUMN TRADE_CENTER.CONTACT_PHONE IS '联系手机';

COMMENT ON COLUMN TRADE_CENTER.CONTACT_TEL IS '联系电话';

COMMENT ON COLUMN TRADE_CENTER.CREATOR IS '创建人名称';

COMMENT ON COLUMN TRADE_CENTER.CREATE_TIME IS '数据创建时间';

COMMENT ON COLUMN TRADE_CENTER.DATA_TIMESTAMP IS '数据最后修改时间';

COMMENT ON COLUMN TRADE_CENTER.IS_DELETE IS '是否删除 0:正常 1：删除';

create sequence SEQ_TRADE_CENTER
minvalue 1
start with 1
increment by 1;

INSERT  INTO TRADE_CENTER(ID,AREA_CODE,UNIT_NAME)  SELECT SEQ_TRADE_CENTER.NEXTVAL,AREACODE,SYSTEM_NAME from T_USER_TRADEPLATFORM;

create or replace view v_ydpb_room_seat as
select s.id as seatid,d.apply_id,m.area_code,m.center_name,m.id as roomid,m.eval_room_name,s.seat_number,d.start_time,d.end_time,
to_date(to_char(d.start_time,'yyyy-MM-dd'),'yyyy-MM-dd') as eval_date
from ydpb_eval_room_seat s
inner join ydpb_eval_room m on s.fid=m.id
inner join ydpb_eval_room_seat_record d on d.eval_room_id=m.id and s.seat_number = d.seat_number and d.is_delete =0 and s.state =1 and d.state=1;





create table YDPB_EVAL_EXPERT_RECORD
(
  id                   NUMBER not null,
  area_code            VARCHAR2(6) not null,
  seat_number          VARCHAR2(2) not null,
  eval_apply_detail_id NUMBER not null,
  start_time           DATE default SYSDATE not null,
  end_time             DATE default SYSDATE not null,
  EVAL_ROOM_NAME       varchar2(50) not null,
  F_Record_ID          NUMBER  not null,
  EXPERT_NAME          VARCHAR2(50) NOT NULL,
  ID_CARD              VARCHAR2(50) NOT NULL,
  ID_CARD_TYPE         VARCHAR2(50) NOT NULL,
  creator_id           NUMBER default 0 not null,
  creator              VARCHAR2(255),
  create_time          DATE default SYSDATE not null,
  data_timestamp       DATE default SYSDATE not null,
  is_delete            NUMBER(1) default 0 not null,
   PRIMARY KEY ("ID")
);
-- Add comments to the table 
comment on table YDPB_EVAL_EXPERT_RECORD is '评标席位分配详情';
-- Add comments to the columns 
comment on column YDPB_EVAL_EXPERT_RECORD.id  is 'ID';
comment on column YDPB_EVAL_EXPERT_RECORD.area_code  is '交易中心编码';
comment on column YDPB_EVAL_EXPERT_RECORD.seat_number  is '席位编号';
comment on column YDPB_EVAL_EXPERT_RECORD.eval_apply_detail_id  is '评标申请详情ID';
comment on column YDPB_EVAL_EXPERT_RECORD.start_time  is '预计评标开始时间';
comment on column YDPB_EVAL_EXPERT_RECORD.end_time  is '预计评标结束时间';
comment on column YDPB_EVAL_EXPERT_RECORD.EVAL_ROOM_NAME  is '评标室名称';
comment on column YDPB_EVAL_EXPERT_RECORD.F_Record_ID  is '评标席位ID，YDPB_EVAL_ROOM_SEAT_RECORD关联ID';
comment on column YDPB_EVAL_EXPERT_RECORD.creator_id  is '添加人ID';
comment on column YDPB_EVAL_EXPERT_RECORD.creator  is '创建人名称';
comment on column YDPB_EVAL_EXPERT_RECORD.create_time  is '数据创建时间';
comment on column YDPB_EVAL_EXPERT_RECORD.data_timestamp  is '数据最后修改时间';
comment on column YDPB_EVAL_EXPERT_RECORD.is_delete  is '是否删除 0:正常 1：删除';
comment on column YDPB_EVAL_EXPERT_RECORD.EXPERT_NAME  is '专家姓名';
comment on column YDPB_EVAL_EXPERT_RECORD.ID_CARD  is '证件号码';
comment on column YDPB_EVAL_EXPERT_RECORD.ID_CARD_TYPE  is '证件类型';


create sequence SEQ_YDPB_EVAL_EXPERT_RECORD
minvalue 1
start with 1
increment by 1;

create or replace view v_ydpb_apply_trade as
select a.id,a.series_number,d.is_main,a.bid_eval_start_time,a.bid_eval_end_time,d.expert_count,d.status,a.eval_status,d.create_time,
d.area_code,d.center_name,a.flag,a.apply_type,a.status as apply_status,
d.IS_EVAL_EXPERT,a.IS_EVAL_EXPERT as APPLY_IS_EVAL_EXPERT
from  ydpb_eval_apply_detail d inner join YDPB_EVAL_APPLY_RECORD r on  r.apply_detail_id = d.id and d.is_delete =0 and r.is_main_audit=1
inner join  YDPB_EVAL_APPLY a on d.apply_id = a.id and a.is_delete =0;


-- Create table
create table YDPB_NOTIFY_CONFIG
(
  ID             VARCHAR2(200) default sys_guid() not null,
  area_code      VARCHAR2(6) not null,
  unit_name      VARCHAR2(255) not null,
  system_no      VARCHAR2(50) default '' not null,
  interface_code VARCHAR2(50) default '' not null,
  interface_name VARCHAR2(50) default '' not null,
  url            VARCHAR2(200) default '' not null,
  create_time    DATE default sysdate not null,
  data_timestamp DATE default sysdate not null,
  is_delete      NUMBER(1) default 0 not null,
    PRIMARY KEY ("ID")
);

-- Add comments to the table 
comment on table YDPB_NOTIFY_CONFIG
  is '交易中心接口地址配置';
-- Add comments to the columns 
comment on column YDPB_NOTIFY_CONFIG.id
  is '主键';
comment on column YDPB_NOTIFY_CONFIG.area_code
  is '交易中心地区编码';
comment on column YDPB_NOTIFY_CONFIG.unit_name
  is '交易中心名称';
comment on column YDPB_NOTIFY_CONFIG.system_no
  is '交易系统接入编码';
comment on column YDPB_NOTIFY_CONFIG.interface_code
  is '接口代码';
comment on column YDPB_NOTIFY_CONFIG.interface_name
  is '接口名称';
comment on column YDPB_NOTIFY_CONFIG.url
  is '接口地址';
comment on column YDPB_NOTIFY_CONFIG.create_time
  is '添加时间';
comment on column YDPB_NOTIFY_CONFIG.data_timestamp
  is '最后更新时间';
comment on column YDPB_NOTIFY_CONFIG.is_delete
  is '是否删除';
